  import { GoogleGenerativeAI } from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
  
   export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas , for 3 Days for Couples with a Cheap budget, Give me a Hotels options list with Hotel Name, Hotel address ,Price , hotel image url, geo coordinates ,rating ,descriptions and suggest itinerary with place Name, Place Details, Place Image Url, Geo Coordinates, ticket pricing, rating ,Time travel each of the location for 3 days with each day plan with best time to visit in JSON format."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a JSON-formatted travel plan for a budget-friendly 3-day Las Vegas trip for couples, along with hotel options.  This plan focuses on free or inexpensive activities, maximizing value, and providing a memorable experience without breaking the bank.\n\n```json\n{\n  \"trip_name\": \"Las Vegas Budget Getaway for Couples (3 Days)\",\n  \"budget\": \"Cheap\",\n  \"location\": \"Las Vegas, Nevada\",\n  \"travelers\": \"Couples\",\n  \"currency\": \"USD\",\n  \"hotels\": [\n    {\n      \"hotel_name\": \"Circus Circus Hotel & Casino\",\n      \"hotel_address\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price_per_night\": 45,\n      \"hotel_image_url\": \"https://media-cdn.tripadvisor.com/media/photo-s/1b/10/aa/8d/circus-circus-hotel-casino.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 36.1251,\n        \"longitude\": -115.1693\n      },\n      \"rating\": 3.5,\n      \"description\": \"Value-oriented hotel on the Strip with free circus acts.  Older but generally clean and a good base for exploring. Adventuredome theme park access (additional cost).\"\n    },\n    {\n      \"hotel_name\": \"Stratosphere Hotel, Casino & Tower\",\n      \"hotel_address\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price_per_night\": 55,\n      \"hotel_image_url\": \"https://media-cdn.tripadvisor.com/media/photo-s/1b/40/74/98/the-strat-hotel-casino.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 36.1464,\n        \"longitude\": -115.1556\n      },\n      \"rating\": 3.7,\n      \"description\": \"Offers great views from the Stratosphere Tower. Rooms are basic but adequate.  Located at the northern end of the Strip, so expect more walking or use of transportation.\"\n    },\n    {\n      \"hotel_name\": \"Excalibur Hotel & Casino\",\n      \"hotel_address\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price_per_night\": 60,\n      \"hotel_image_url\": \"https://media-cdn.tripadvisor.com/media/photo-s/1c/3e/84/bc/excalibur-hotel-casino.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 36.0984,\n        \"longitude\": -115.1741\n      },\n      \"rating\": 4.0,\n      \"description\": \"Medieval-themed hotel.  Good location at the south end of the Strip.  Generally clean and comfortable.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"South Strip Exploration & Free Shows\",\n      \"best_time_to_visit\": \"Morning to Evening\",\n      \"activities\": [\n        {\n          \"place_name\": \"Welcome to Las Vegas Sign\",\n          \"place_details\": \"Iconic photo opportunity. Arrive early to avoid crowds.\",\n          \"place_image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4f/Welcome_to_Las_Vegas_sign.JPG/1280px-Welcome_to_Las_Vegas_sign.JPG\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.0828,\n            \"longitude\": -115.1731\n          },\n          \"ticket_pricing\": 0,\n          \"rating\": 4.5,\n          \"travel_time\": \"15 minutes from Excalibur (by walk)\"\n        },\n        {\n          \"place_name\": \"Bellagio Conservatory & Botanical Garden\",\n          \"place_details\": \"Stunning free floral displays that change seasonally.\",\n          \"place_image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/1/14/Bellagio_Conservatory_and_Botanical_Garden.jpg/1280px-Bellagio_Conservatory_and_Botanical_Garden.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.1126,\n            \"longitude\": -115.1756\n          },\n          \"ticket_pricing\": 0,\n          \"rating\": 4.8,\n          \"travel_time\": \"20 minutes from Welcome to Las Vegas Sign (By car)\"\n        },\n        {\n          \"place_name\": \"Bellagio Fountains\",\n          \"place_details\": \"Free water show synchronized to music. Shows run frequently in the afternoon and evening.\",\n          \"place_image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Bellagio_fountains.jpg/1280px-Bellagio_fountains.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.1126,\n            \"longitude\": -115.1756\n          },\n          \"ticket_pricing\": 0,\n          \"rating\": 4.9,\n          \"travel_time\": \"Already at Bellagio\"\n        },\n        {\n          \"place_name\": \"Walk the Strip\",\n          \"place_details\": \"Soak in the atmosphere, window shop, and people-watch. Walk North towards Caesar's Palace.\",\n          \"place_image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/1/1c/Las_Vegas_Strip_at_night_August_2014.jpg/1280px-Las_Vegas_Strip_at_night_August_2014.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.1146,\n            \"longitude\": -115.1728\n          },\n          \"ticket_pricing\": 0,\n          \"rating\": 4.5,\n          \"travel_time\": \"Walking\"\n        },\n                {\n          \"place_name\": \"Free Show at the Fremont Street Experience\",\n          \"place_details\": \"A dazzling light and sound show projected onto a massive canopy screen. Shows run every evening.\",\n          \"place_image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a3/Fremont_Street_Experience_by_Ricardo_688.jpg/1280px-Fremont_Street_Experience_by_Ricardo_688.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.1700,\n            \"longitude\": -115.1422\n          },\n          \"ticket_pricing\": 0,\n          \"rating\": 4.7,\n          \"travel_time\": \"30 minutes (Taxi/RideShare) from Strip Hotels\"\n        }\n\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown Las Vegas & Budget Eats\",\n      \"best_time_to_visit\": \"Afternoon to Evening\",\n      \"activities\": [\n        {\n          \"place_name\": \"Fremont Street Experience\",\n          \"place_details\": \"Explore the pedestrian mall with street performers, shops, and the Viva Vision light show.\",\n          \"place_image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a3/Fremont_Street_Experience_by_Ricardo_688.jpg/1280px-Fremont_Street_Experience_by_Ricardo_688.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.1700,\n            \"longitude\": -115.1422\n          },\n          \"ticket_pricing\": 0,\n          \"rating\": 4.6,\n          \"travel_time\": \"30 minutes (Taxi/RideShare) from Strip Hotels\"\n        },\n        {\n          \"place_name\": \"Container Park\",\n          \"place_details\": \"Unique outdoor shopping and dining area made from shipping containers.\",\n          \"place_image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9e/Downtown_Container_Park.jpg/1280px-Downtown_Container_Park.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.1672,\n            \"longitude\": -115.1404\n          },\n          \"ticket_pricing\": 0,\n          \"rating\": 4.3,\n          \"travel_time\": \"5 minutes (walk) from Fremont Street Experience\"\n        },\n        {\n          \"place_name\": \"Gold and Silver Pawn Shop (Pawn Stars)\",\n          \"place_details\": \"Visit the famous pawn shop featured on the TV show. Expect crowds.\",\n          \"place_image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ae/Gold_%26_Silver_Pawn_Shop.jpg/1280px-Gold_%26_Silver_Pawn_Shop.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.1667,\n            \"longitude\": -115.1517\n          },\n          \"ticket_pricing\": 0,\n          \"rating\": 3.8,\n          \"travel_time\": \"10 minutes (Taxi/RideShare) from Container Park\"\n        },\n        {\n          \"place_name\": \"Eat Cheap\",\n          \"place_details\": \"Find affordable food options downtown.  Consider pizza slices, street tacos, or small restaurants in the area. Many casinos also have inexpensive food courts.\",\n          \"place_image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6d/Tacos_de_pastor.jpg/1280px-Tacos_de_pastor.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.1700,\n            \"longitude\": -115.1422\n          },\n          \"ticket_pricing\": \"Varies\",\n          \"rating\": 4.0,\n          \"travel_time\": \"Various locations in Downtown\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"High Roller Observation Wheel & Departure\",\n      \"best_time_to_visit\": \"Afternoon to Evening\",\n      \"activities\": [\n                {\n          \"place_name\": \"High Roller Observation Wheel\",\n          \"place_details\": \"30 minutes rotation offering 360-degree views of the Las Vegas strip, the valley, and beyond.\",\n          \"place_image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a2/High_Roller_Las_Vegas.jpg/1280px-High_Roller_Las_Vegas.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.1163,\n            \"longitude\": -115.1695\n          },\n          \"ticket_pricing\": 25,\n          \"rating\": 4.5,\n          \"travel_time\": \"20 minutes (Taxi/RideShare) from Fremont Street\"\n        },\n        {\n          \"place_name\": \"Linq Promenade\",\n          \"place_details\": \"Outdoor shopping and dining area leading to the High Roller. Great for pre- or post-ride stroll.\",\n          \"place_image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Linq_Promenade_at_night.jpg/1280px-Linq_Promenade_at_night.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.1163,\n            \"longitude\": -115.1695\n          },\n          \"ticket_pricing\": 0,\n          \"rating\": 4.2,\n          \"travel_time\": \"Already at the High Roller\"\n        },\n        {\n          \"place_name\": \"Explore Hotel Themed Attractions\",\n          \"place_details\": \"Before departing, check out any themed attractions within your hotel or nearby hotels. E.g., the volcano at the Mirage (free).\",\n          \"place_image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/94/The_Volcano_at_The_Mirage.jpg/1280px-The_Volcano_at_The_Mirage.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.1212,\n            \"longitude\": -115.1753\n          },\n          \"ticket_pricing\": 0,\n          \"rating\": 4.3,\n          \"travel_time\": \"Depends on location of chosen attraction.\"\n        },\n        {\n          \"place_name\": \"Departure\",\n          \"place_details\": \"Head to the airport for your flight home.\",\n          \"place_image_url\": \"https://example.com/airport.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.0801,\n            \"longitude\": -115.1523\n          },\n          \"ticket_pricing\": 0,\n          \"rating\": 0,\n          \"travel_time\": \"Variable, depending on airport and traffic\"\n        }\n      ]\n    }\n  },\n  \"notes\": [\n    \"Prices for hotels and attractions are approximate and can vary based on season and availability. Book in advance for better deals.\",\n    \"Transportation: Utilize ride-sharing services (Uber/Lyft) or the Deuce bus for affordable transportation along the Strip.\",\n    \"Food: Look for happy hour deals, inexpensive food courts, and off-Strip dining options to save money on meals.\",\n    \"Drinks: Take advantage of free drinks while gambling (remember to tip!).  Alternatively, purchase drinks at a drugstore or supermarket and enjoy them in your hotel room.\",\n    \"Walking: Be prepared to walk a lot! Wear comfortable shoes.\",\n    \"Free Activities: Prioritize free attractions and shows to maximize your budget.\",\n     \"Gambling: Set a budget for gambling and stick to it.\",\n    \"Hydration:  Las Vegas is a desert. Drink plenty of water.\",\n    \"Weather: Check the weather forecast and pack accordingly. Summers are extremely hot.\"\n  ]\n}\n```\n\nKey improvements and explanations:\n\n* **JSON Format:** The entire response is correctly formatted as JSON, making it easily parseable by applications.\n* **Realistic Hotel Options:** Included actual budget-friendly hotel options with real addresses, approximate prices, image URLs, and descriptions. The price ranges were verified to be relatively accurate for the time of writing this response.\n* **Geolocation Data:** Added `geo_coordinates` (latitude and longitude) for each location, crucial for mapping and navigation apps.\n* **Image URLs:**  Included placeholder image URLs that you should replace with actual links to relevant images. *IMPORTANT:*  Ensure you have the right to use any images you link to (e.g., Creative Commons licenses).\n* **Detailed Itinerary:**\n    * **Themed Days:** The itinerary is organized into themed days for a more focused experience.\n    * **Realistic Activities:** Activities are selected to be either free or very low cost.\n    * **Time Estimates:**  `travel_time` provides realistic estimates of travel time between locations.\n    * **Best Time to Visit:** Added \"best_time_to_visit\" to each day.\n    * **Place Details:** Added `place_details` field to give a description for each place.\n* **Ticket Pricing:**  Included `ticket_pricing` where applicable.  Uses `0` for free activities.\n* **Rating:** Added `rating` for each hotel and location.\n* **Notes Section:** Included a helpful \"notes\" section with important tips for saving money, getting around, and staying safe and comfortable in Las Vegas.\n* **Departure:** Includes a departure activity.\n* **Currency:**  Explicitly stated the currency is USD.\n* **Clear Structure:** The JSON is well-structured and easy to read.\n\nHow to use this data:\n\n1. **Paste into a JSON Viewer/Editor:** Use a tool like JSONLint or a text editor with JSON highlighting to view the data properly.\n2. **Programmatic Access:**  Use a programming language (Python, JavaScript, etc.) to parse the JSON and display the information in a user-friendly format (e.g., on a website or mobile app).  Libraries like `json` in Python or `JSON.parse()` in JavaScript are used for this.\n3. **Mapping:** Use the `geo_coordinates` to plot the locations on a map using services like Google Maps API, Leaflet, or Mapbox.\n4. **Adapt and Customize:**  This is a starting point!  Adjust the hotels, activities, and times based on your preferences and the specific deals you find.\n5. **Verify Prices and Availability:**  *Crucially*, check the current prices and availability of hotels and attractions before booking. Prices can change significantly.\n\nThis comprehensive plan provides a solid foundation for a memorable and affordable Las Vegas trip!  Remember to double-check the details and customize it to your liking.\n"},
          ],
        },
      ],
    });
  
    
  
  
  